<!DOCTYPE html>
<html>
<body>

<h2>Question 3- promise, await, async</h2>
<p id="demo"></p>

<script>
fetch('https://jsonplaceholder.typicode.com/todos')
.then(response=>response.json())
.then(data=>console.log(data))

let obj = {
	title: 'lacasa',
    body: 'money heist',
    userId: 1000,
}

fetch('https://jsonplaceholder.typicode.com/todos',{
	method: 'POST',
    body: JSON.stringify(obj)
}).then(response=>response.json())
.then(data=>console.log(data))

async function fetchtodo(){
const resp = await fetch('https://jsonplaceholder.typicode.com/todos');
const data = await resp.json();
console.log(data);
}

fetchtodo();

function topost(obj){
	return new Promise((resolve,reject)=>{
    setTimeout(()=>{
    const response = await fetch('https://jsonplaceholder.typicode.com/todos');
	const data1 = await response.json();
	console.log(data1);
    
    const err = false;
    if(!err){
    resolve();
    }
    else{
    reject("oops an error");
    }
   },2000);
  })   
}


topost(obj).then().catch(err=>console.log(error));


</script>

</body>
</html>
